import{u,b as x,r as g,j as s,H as h,a as j}from"./index-CwUWXPct.js";import{u as p,a as E,N as f,E as y}from"./requests-DLM1xaaj.js";import{u as d,E as N,M as b}from"./MapView-CKgPQeSa.js";const v=()=>{const{unitId:t}=u(),[n]=x(),e=n.get("unit"),a=d(i=>i.setEvents),o=d(i=>i.setPoints),{isLoading:c,isError:l,data:r=null,error:m}=p({queryKey:["get-reports",t],queryFn:()=>E(t)});return g.useEffect(()=>{(r==null?void 0:r.length)>0&&a(r)},[r,a,o]),{isLoading:c,isError:l,events:r,error:m,name:e}},R=()=>s.jsx("div",{className:"flex justify-center",children:s.jsx("h3",{className:"font-bold text-gray-300 text-2xl",children:"No se han guardado eventos"})}),H=()=>{const{isLoading:t,isError:n,events:e,error:a,name:o}=v();return s.jsxs(s.Fragment,{children:[s.jsx(h,{children:s.jsxs("title",{children:["TECNOCONTROL | ",o]})}),s.jsx(f,{title:`Reportes de la unidad ${o}`}),s.jsxs("div",{className:"border border-gray-700 rounded-lg p-4 max-h-[800px] overflow-y-auto bg-gray-800 shadow-md mt-4",children:[t?s.jsx(j,{}):n?s.jsx(y,{message:a.message}):(e==null?void 0:e.length)>0&&s.jsxs("article",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(N,{}),s.jsx(b,{})]}),(e==null?void 0:e.length)===0&&s.jsx(R,{})]})]})};export{H as default};
